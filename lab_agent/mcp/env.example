# PostgreSQL Analyzer MCP Server Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
MCP_HOST=0.0.0.0
MCP_PORT=8000
LOG_LEVEL=INFO
SESSION_TIMEOUT=1800
REQUEST_TIMEOUT=300

# =============================================================================
# LOCAL DATABASE CONFIGURATION (NEW - for local development without AWS)
# =============================================================================
# Default local database (used for 'local' preset)
LOCAL_DB_HOST=localhost
LOCAL_DB_PORT=5432
LOCAL_DB_NAME=postgres
LOCAL_DB_USERNAME=postgres
LOCAL_DB_PASSWORD=your_password_here

# Development database (used for 'development' preset)
DEV_DB_HOST=localhost
DEV_DB_PORT=5432
DEV_DB_NAME=myapp_dev
DEV_DB_USERNAME=developer
DEV_DB_PASSWORD=dev_password

# =============================================================================
# AWS CONFIGURATION (optional - for production use)
# =============================================================================
# AWS Secrets Manager configuration (only needed if using AWS)
AWS_DEFAULT_REGION=us-west-2
AWS_ACCESS_KEY_ID=your_access_key_here
AWS_SECRET_ACCESS_KEY=your_secret_key_here

# Production database secret (used for 'production' preset)
PROD_DB_SECRET_NAME=prod-postgres-readonly-credentials
PROD_DB_REGION=us-east-1

# Staging database secret (used for 'staging' preset)
STAGING_DB_SECRET_NAME=staging-postgres-credentials
STAGING_DB_REGION=us-west-2

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Database connection settings
DB_CONNECTION_TIMEOUT=30
DB_QUERY_TIMEOUT=30
DB_READ_ONLY=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_HEALTH_CHECK=true
ENABLE_SESSION_STATUS=true
ENABLE_QUERY_LOGGING=false

# =============================================================================
# QUICK START GUIDE
# =============================================================================
# 1. Copy this file to .env: cp env.example .env
# 2. Update LOCAL_DB_* values with your local PostgreSQL credentials
# 3. Start the MCP server: python src/main.py
# 4. Use the tools with preset='local' for local database analysis
#
# Example usage:
# - analyze_database_structure(preset="local")
# - get_slow_queries(preset="local")
# - analyze_query("SELECT * FROM users", preset="local")
